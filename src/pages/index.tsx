/* eslint-disable @typescript-eslint/no-explicit-any */
/* eslint-disable @typescript-eslint/no-unsafe-member-access */
/* eslint-disable @typescript-eslint/no-unsafe-assignment */
import { type NextPage } from "next";
import Head from "next/head";

import { api } from "@/utils/api";
import Image from "next/image";

const Home: NextPage = () => {
  const { data, isLoading } = api.tweets.getTweets.useQuery();

  if (isLoading) {
    return <div>loading...</div>;
  }

  if (!data?.tweets) {
    return <div>no tweet here</div>;
  }

  return (
    <>
      <Head>
        <title>Create T3 App</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex min-h-screen flex-col items-center justify-center bg-slate-200">
        {data.tweets.map((tweet: any) => {
          return (
            <Tweet
              content={tweet.content}
              author={tweet.author}
              key={tweet.id}
            />
          );
        })}
      </main>
    </>
  );
};

export default Home;

function Tweet(props: any) {
  return (
    <div className=" my-2 flex  w-96 items-center justify-start rounded-xl bg-white">
      <Image
        src={"https://placekitten.com/250/250"}
        height={250}
        width={250}
        alt=""
        className="h-24 w-24 p-2 rounded-full"
      />
      <div className="flex flex-col p-2">
        <p className="text-slate-400">@{props.author}</p>
        <p className="">{props.content}</p>
      </div>
    </div>
  );
}
